# ============================================================================
# Lexicon Crawler - Environment Configuration
# ============================================================================
#
# This is the BASE configuration file. Environment-specific settings should
# be placed in the appropriate .env.{ENVIRONMENT} file:
#
#   .env.development  - Local development settings
#   .env.staging      - Staging environment settings
#   .env.production   - Production environment settings
#
# Configuration Priority (highest to lowest):
#   1. Environment variables (set in shell/Docker/K8s)
#   2. .env.{ENVIRONMENT} file (environment-specific overrides)
#   3. .env file (this file - shared defaults)
#   4. Application defaults (in config/settings.py)
#
# Usage:
#   Set ENVIRONMENT variable to select which .env file to load:
#   export ENVIRONMENT=production  # Loads .env + .env.production
#
# ============================================================================

# Application Configuration
APP_NAME=Lexicon Crawler API
APP_VERSION=1.0.0
DEBUG=False
ENVIRONMENT=development

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# Database Configuration
DATABASE_URL=postgresql+asyncpg://crawler:crawler@localhost:5432/crawler
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=5
DATABASE_ECHO=False

# Log Retention & Partitioning
# Number of days to retain crawl logs before dropping partitions
LOG_RETENTION_DAYS=90
# Number of future months to pre-create log partitions
LOG_PARTITION_MONTHS_AHEAD=3

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_TTL=3600

# NATS Configuration
NATS_URL=nats://localhost:4222
NATS_STREAM_NAME=CRAWLER_TASKS
NATS_CONSUMER_NAME=crawler-worker

# Google Cloud Storage
GCS_BUCKET_NAME=lexicon-crawler-storage
# Base64-encoded service account JSON credentials
# To encode: cat service-account.json | base64 -w 0
GOOGLE_APPLICATION_CREDENTIALS_BASE64=

# Crawler Settings
MAX_CONCURRENT_REQUESTS=5
REQUEST_TIMEOUT=30
MAX_RETRIES=3
RETRY_DELAY=5
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36

# Rate Limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_PERIOD=60

# Monitoring
ENABLE_METRICS=True
METRICS_PORT=9090

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/crawler.log

# ============================================================================
# Environment-Specific Files
# ============================================================================
# Copy this file to .env and customize for your local development:
#   cp .env.example .env
#
# For environment-specific settings, see:
#   .env.development  - Debug mode, verbose logging, lower limits
#   .env.staging      - Moderate settings for staging testing
#   .env.production   - Production-ready settings, strict limits
#
# These files contain ONLY the values that differ from this base config.
# ============================================================================
